CREATE TABLE `pedidos` (
  `p_codigo` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `p_fecha` date NOT NULL,
  `p_nropedido` varchar(20) NOT NULL,
  `p_cliente` int(10) unsigned NOT NULL,
  `p_operador` int(10) unsigned NOT NULL,
  `p_moneda` int(10) unsigned NOT NULL,
  `p_deposito` int(10) unsigned NOT NULL,
  `p_sucursal` int(10) unsigned NOT NULL,
  `p_descuento` decimal(12,2) NOT NULL DEFAULT '0.00',
  `p_obs` text,
  `p_estado` tinyint(1) NOT NULL DEFAULT '1' COMMENT 'valor 0=Anulado, 1=pendiente, 2=Confirmado',
  `p_vendedor` int(10) unsigned NOT NULL DEFAULT '1',
  `p_area` int(10) unsigned NOT NULL DEFAULT '5',
  `p_tipo_estado` int(10) unsigned NOT NULL DEFAULT '1',
  `p_credito` tinyint(3) unsigned NOT NULL DEFAULT '0',
  `p_imprimir` int(11) NOT NULL DEFAULT '0',
  `p_interno` varchar(25) NOT NULL DEFAULT '',
  `p_latitud` varchar(45) DEFAULT '',
  `p_longitud` varchar(45) DEFAULT '',
  `p_tipo` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0=normal; 1=por telefono',
  `p_entrega` decimal(12,2) NOT NULL COMMENT '0.00',
  `p_cantcuotas` int(10) unsigned NOT NULL COMMENT '0.00',
  `p_consignacion` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '0 - SIN, 1 - CON',
  `p_autorizar_a_contado` tinyint(3) unsigned NOT NULL DEFAULT '0',
  `p_zona` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0=ShoW R; 1=Encomienda; 2=Regional',
  `p_acuerdo` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`p_codigo`),
  KEY `p_cliente` (`p_cliente`),
  KEY `p_operador` (`p_operador`),
  KEY `p_moneda` (`p_moneda`),
  KEY `p_deposito` (`p_deposito`),
  KEY `p_sucursal` (`p_sucursal`),
  KEY `p_vendedor` (`p_vendedor`),
  KEY `p_area` (`p_area`),
  KEY `p_tipo_estado` (`p_tipo_estado`),
  CONSTRAINT `pedido_fk` FOREIGN KEY (`p_cliente`) REFERENCES `clientes` (`cli_codigo`) ON UPDATE CASCADE,
  CONSTRAINT `pedido_fk1` FOREIGN KEY (`p_operador`) REFERENCES `operadores` (`op_codigo`) ON UPDATE CASCADE,
  CONSTRAINT `pedido_fk2` FOREIGN KEY (`p_moneda`) REFERENCES `monedas` (`mo_codigo`) ON UPDATE CASCADE,
  CONSTRAINT `pedido_fk3` FOREIGN KEY (`p_deposito`) REFERENCES `depositos` (`dep_codigo`) ON UPDATE CASCADE,
  CONSTRAINT `pedido_fk4` FOREIGN KEY (`p_sucursal`) REFERENCES `sucursales` (`id`) ON UPDATE CASCADE,
  CONSTRAINT `pedidos_fk` FOREIGN KEY (`p_vendedor`) REFERENCES `operadores` (`op_codigo`) ON UPDATE CASCADE,
  CONSTRAINT `pedidos_fk1` FOREIGN KEY (`p_area`) REFERENCES `area` (`a_codigo`) ON UPDATE CASCADE,
  CONSTRAINT `pedidos_fk2` FOREIGN KEY (`p_tipo_estado`) REFERENCES `tipo_estado` (`tp_codigo`) ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=122668 DEFAULT CHARSET=latin1